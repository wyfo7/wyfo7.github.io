<!DOCTYPE html>
<html>
<head>
  <title>Range 示例</title>
</head>
<body>
  <p id="foo">
    这是一个用来演示 DOM Range 对象选中部分文本的示例。你可以看到被选中的文本会高亮显示。
  </p>

  <button id="selectBtn">选中部分文本</button>

  <script>
    const paragraph = document.getElementById("foo");
    const btn = document.getElementById("selectBtn");

    btn.onclick = function() {
      // 创建新的 Range
      const range = document.createRange();

      // 这里假设 paragraph 只有一个文本节点，所以直接用 childNodes[0]
      const textNode = paragraph.childNodes[0];

      // 设置开始和结束位置，这里的数字是字符索引
      range.setStart(textNode, 5);  // 从第5个字符开始（从0开始计数）
      range.setEnd(textNode, 15);   // 到第15个字符结束

      // 取得当前页面的选区
      const selection = window.getSelection();

      // 清除之前的选区
      selection.removeAllRanges();

      // 添加我们新创建的范围到选区中
      selection.addRange(range);
    }
  </script>
</body>
</html>
